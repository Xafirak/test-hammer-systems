(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{499:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(25),c=n.n(s),i=n(94),r=n(73),o=n(0),l=n(464),d=n(456),j=n.n(d),u=n(17),m=n(81),b=n(82),h=n(102),p=n(101),x=n(266),O=n(304),f=n(515),v=n(512),y=n(105),g=n(514),w=n(475),k=n(476),C=n(430),N=n(439),I=n(31),L=n(162),R=n(42),S=n(495),U=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",e.formRef=Object(o.createRef)(),e.state={id:"",name:"",email:"",username:"",phone:"",website:"",address:"",city:"",company:""},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history.location.state.id,t=this.props.clients.find((function(t){return t.id===e}));this.setState(Object(u.a)({},t))}},{key:"getBase64",value:function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}},{key:"render",value:function(){var e,t=this,n=Object(u.a)(Object(u.a)({},this.state),{},{company:this.state.company.name,address:this.state.address.street,city:this.state.address.city});return null===(e=this.formRef.current)||void 0===e||e.setFieldsValue(n),Object(a.jsxs)(O.a,{spinning:this.props.loading,children:[Object(a.jsxs)(L.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(a.jsx)(f.a,{size:90,src:"",icon:Object(a.jsx)(N.a,{})}),Object(a.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(a.jsx)(v.a,{onChange:function(e){var n="updatable";"uploading"!==e.file.status?"done"===e.file.status&&(t.getBase64(e.file.originFileObj,(function(e){return t.setState({avatarUrl:e})})),x.b.success({content:"Uploaded!",key:n,duration:1.5})):x.b.loading({content:"Uploading...",key:n,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(a.jsx)(y.a,{type:"primary",children:"Change Avatar"})}),Object(a.jsx)(y.a,{className:"ml-2",onClick:function(){t.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(a.jsx)("div",{className:"mt-4",children:Object(a.jsx)(g.a,{ref:this.formRef,name:"basicInformation",layout:"vertical",initialValues:n,onFinish:function(e){var n="updatable";x.b.loading({content:"Updating...",key:n}),setTimeout((function(){t.setState({name:e.name,email:e.email,username:e.username,phone:e.phoneNumber,website:e.website,company:e.company,address:e.address,city:e.city}),x.b.success({content:"Done!",key:n,duration:2}),t.props.history.push("/app/main/clients/clientsList")}),1e3)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(k.a,{xs:24,sm:24,md:24,lg:16,children:[Object(a.jsxs)(w.a,{gutter:I.c,children:[Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"Company",name:"company",children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"Phone Number",name:"phone",children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"Website",name:"website",children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:24,children:Object(a.jsx)(g.a.Item,{label:"Address",name:"address",children:Object(a.jsx)(C.a,{})})}),Object(a.jsx)(k.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(g.a.Item,{label:"City",name:"city",children:Object(a.jsx)(C.a,{})})})]}),Object(a.jsx)(y.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})}),!!this.props.error&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Something went wrong"}),Object(a.jsx)(S.Link,{to:"app/main/clients/clientsList"})]})]})}}]),n}(o.Component),F=Object(R.withRouter)(U),P=n(188),T=n(513),z=n(511),A=n(232),D=n(500),E=function(e){return Object(a.jsx)(f.a,Object(u.a)(Object(u.a)({},e),{},{className:"ant-avatar-".concat(e.type),children:e.text}))},q=function(e){var t=e.name,n=e.suffix,s=e.subTitle,c=e.id,i=e.type,r=e.src,o=e.icon,l=e.size,d=e.shape,j=e.gap,u=e.text,m=e.onNameClick;return Object(a.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[E({icon:o,src:r,type:i,size:l,shape:d,gap:j,text:u}),Object(a.jsxs)("div",{className:"ml-2",children:[Object(a.jsxs)("div",{children:[m?Object(a.jsx)("div",{onClick:function(){return m({name:t,subTitle:s,src:r,id:c})},className:"avatar-status-name clickable",children:t}):Object(a.jsx)("div",{className:"avatar-status-name",children:t}),Object(a.jsx)("span",{children:n})]}),Object(a.jsx)("div",{className:"text-muted avatar-status-subtitle",children:s})]})]})},V=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={clients:e.props.clients,error:e.props.error,loading:e.props.loading},e.deleteUser=function(t){e.setState({clients:e.state.clients.filter((function(e){return e.id!==t}))}),x.b.success({content:"Deleted user ".concat(t),duration:2})},e.showUserProfile=function(t){e.props.history.push("/app/main/clients/clientInfo/".concat(t.id),{id:t.id})},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.clients,s=t.loading,c=[{title:"User",dataIndex:"name",render:function(e,t){return Object(a.jsx)("div",{className:"d-flex",children:Object(a.jsx)(q,{icon:Object(a.jsx)(N.a,{}),name:t.name,subTitle:t.email})})},sorter:{compare:function(e,t){return(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}}},{title:"Company",dataIndex:"company",render:function(e,t){return Object(a.jsx)("div",{children:t.company.name})},sorter:{compare:function(e,t){return(e=e.company.name.toLowerCase())>(t=t.company.name.toLowerCase())?-1:t>e?1:0}}},{title:"Phone Number",dataIndex:"phone",render:function(e,t){return Object(a.jsx)("div",{children:t.phone})},sorter:{compare:function(e,t){return e.phone.length-t.phone.length}}},{title:"Website",dataIndex:"website",render:function(e,t){return Object(a.jsx)("div",{children:t.website})},sorter:{compare:function(e,t){return(e=e.website.toLowerCase())>(t=t.website.toLowerCase())?-1:t>e?1:0}}},{title:"",dataIndex:"actions",render:function(t,n){return Object(a.jsxs)("div",{className:"text-right",children:[Object(a.jsx)(P.a,{title:"View",children:Object(a.jsx)(y.a,{type:"primary",className:"mr-2",icon:Object(a.jsx)(A.a,{}),onClick:function(){e.showUserProfile(n)},size:"small"})}),Object(a.jsx)(P.a,{title:"Delete",children:Object(a.jsx)(y.a,{danger:!0,icon:Object(a.jsx)(D.a,{}),onClick:function(){e.deleteUser(n.id)},size:"small"})})]})}}];return Object(a.jsx)(O.a,{spinning:s,children:Object(a.jsx)(T.a,{bodyStyle:{padding:"0px"},children:Object(a.jsx)(z.a,{columns:c,dataSource:n,rowKey:"id"})})})}}]),n}(o.Component),B=Object(R.withRouter)(V),J=function(){return Object(a.jsx)("div",{children:"\u0413\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"})};t.default=function(e){var t=e.match,n=Object(o.useState)([]),s=Object(r.a)(n,2),d=s[0],u=s[1],m=Object(o.useState)(""),b=Object(r.a)(m,2),h=b[0],p=b[1],x=Object(o.useState)(!1),O=Object(r.a)(x,2),f=O[0],v=O[1];return Object(o.useEffect)((function(){v(!0),setTimeout((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://jsonplaceholder.typicode.com/users").then((function(e){return e.data}));case 3:t=e.sent,u(t),v(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p("something went wrong...."),v(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),1e3)}),[]),Object(a.jsxs)(l.Switch,{children:[Object(a.jsx)(l.Route,{path:"".concat(t.url,"/clientInfo/:id"),component:function(){return Object(a.jsx)(F,{clients:d,loading:f})}}),Object(a.jsx)(l.Route,{path:"".concat(t.url,"/clientsList"),component:function(){return Object(a.jsx)(B,{clients:d,loading:f,error:h})}}),Object(a.jsx)(l.Route,{path:"".concat(t.url,"/clientsGroup"),component:function(){return Object(a.jsx)(J,{})}}),Object(a.jsx)(l.Redirect,{from:"".concat(t.url),to:"".concat(t.url,"/clientsList")})]})}}}]);
//# sourceMappingURL=15.106f6564.chunk.js.map